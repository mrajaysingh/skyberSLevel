{"version":3,"sources":["turbopack:///[project]/components/security/skybersecutity.tsx"],"sourcesContent":["\"use client\";\n\nimport { ReactNode, useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\ninterface SkyberSecutityProps {\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\nexport function SkyberSecutity({ children, fallback }: SkyberSecutityProps) {\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean | null>(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      const sessionToken = localStorage.getItem(\"sessionToken\");\n      const authenticated = !!sessionToken;\n      setIsAuthenticated(authenticated);\n\n      if (!authenticated) {\n        // Store current path for redirect after login\n        sessionStorage.setItem(\"skyber_redirect_after_login\", window.location.pathname);\n        router.push(\"/login\");\n      }\n    }\n  }, [router]);\n\n  // Show nothing while checking authentication\n  if (isAuthenticated === null) {\n    return fallback || null;\n  }\n\n  // Show nothing if not authenticated (redirect will happen)\n  if (!isAuthenticated) {\n    return fallback || null;\n  }\n\n  // Show protected content if authenticated\n  return <>{children}</>;\n}\n\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAOO,SAAS,EAAe,UAAE,CAAQ,UAAE,CAAQ,CAAuB,EACxE,GAAM,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,MACjE,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,UAiBxB,CAfA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAYV,EAAG,CAAC,EAAO,EAGa,MAAM,CAA1B,GAKC,GAKE,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EALe,MAKf,CAAA,UAAG,IATD,GAAY,IAUvB"}